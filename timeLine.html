<!DOCTYPE html>
<html lang="en">
<head>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5/dist/css/bootstrap.min.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!--Jquery-->
    <script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js">
    </script>
    <script>
        $(document).ready(function() {
            var url = "json/preoday.json";
            //get json data

            $.getJSON(url, function(result) {
                //get number for loop
                var activityNum=result.length;
                var loop;
                for(loop=0;loop<activityNum;loop++){
                    var temp="";
                var stuff0Num=result[loop].setup[0].supplies.length;
                var remark0Num=result[loop].setup[0].remarks.length;
                // get supply0
                    var stuff0list="";
                    if(stuff0Num>0){
                    stuff0list="<li>物資:<ol>";
                    var i;
                    for(i=0;i<stuff0Num;i++){
                        stuff0list+="<li>"+result[loop].setup[0].supplies[i]+"</li>";
                    }
                    stuff0list+="</ol></li>";
                    }
                    //get remark0
                    i=0;
                    var remark0list="";
                    if(remark0Num>0){
                         remark0list="<li>Remark:<ol>";
                        for(i=0;i<remark0Num;i++){
                        remark0list+="<li>"+result[loop].setup[0].remarks[i]+"</li>";
                    }
                    remark0list+="</ol></li>";
                    }

                if(result[loop].bothevent){
                    //get number of supplies and number of remarks for loop
                    var stuff1Num=result[loop].setup[1].supplies.length;
                    var remark1Num=result[loop].setup[1].remarks.length;
                     //get supply1
                    var stuff1list="";
                    if(stuff1Num>0){
                    stuff1list="<li>物資:<ol>";
                    for(i=0;i<stuff1Num;i++){

                        stuff1list+="<li>"+result[loop].setup[1].supplies[i]+"</li>";
                    }
                    stuff1list+="</ol></li>";
                    }

                    //get remark1
                    i=0;
                     var remark1list="";
                    if(remark1Num>0){


                    var remark1list="<li>Remark:<ol>";

                    for(i=0;i<remark1Num;i++){
                        remark1list+="<li>"+result[loop].setup[1].remarks[i]+"</li>";
                    }
                    remark1list+="</ol></li>";
                    }

                    temp = "<div class='row mb-3'> <div class='col col-12 col-sm-5 order-2 setup text-start p-2 card'> <h4 class='text-center'> <strong> "+result[loop].setup[0].activity+" </strong> </h4> <ul> <li>時間 : "+result[loop].setup[0].startTime+"-"+result[loop].setup[0].endTime+" </li><li> 集合地點 : "+result[loop].setup[0].venue+" </li> <li>人手安排 :"+result[loop].setup[0].manpower+" "+stuff0list+remark0list+"  </ul> </div><div class='col col-0 col-sm-1 position-relative order-1' > <span id='circle'></span><div class='timeBadge'></div> </div> <div class='col col-12 col-sm-5 card text-start p-2  order-3 eventHandling'> <h4 class='text-center'> <strong> "+result[loop].setup[1].activity+" </strong> </h4> <ul> <li>時間 : "+result[loop].setup[1].startTime+"-"+result[loop].setup[1].endTime+" </li><li> 集合地點 : "+result[loop].setup[1].venue+" </li> <li>人手安排 : "+result[loop].setup[1].manpower+"</li> "+stuff1list+"  "+remark1list+" </ul> </div> </div>";
                }else if(result[loop].AFKtime){
                    temp = "<div class='row mb-3'> <div class='col col-12 col-sm-5 order-2 d-none d-sm-grid'>  </div><div class='col col-0 col-sm-1 position-relative order-1' > <span id='circle'></span><div class='timeBadge'></div>  </div> <div class='col col-12 col-sm-5 card text-start p-2  order-3 eventHandling'> <h4 class='text-center'> <strong> "+result[loop].setup[0].activity+" </strong> </h4> <ul> <li>時間 : "+result[loop].setup[0].startTime+"-"+result[loop].setup[0].endTime+" </li><li> 集合地點 : "+result[loop].setup[0].venue+" </li> <li>人手安排 : "+result[loop].setup[0].manpower+"</li> "+stuff0list+"  "+remark0list+" </ul> </div> </div>";



                }else{
                    temp = "<div class='row mb-3'> <div class='col col-12 col-sm-5 order-2 setup text-start p-2 card'> <h4 class='text-center'> <strong> "+result[loop].setup[0].activity+" </strong> </h4> <ul> <li>時間 : "+result[loop].setup[0].startTime+"-"+result[loop].setup[0].endTime+" </li><li> 集合地點 : "+result[loop].setup[0].venue+" </li> <li>人手安排 :"+result[loop].setup[0].manpower+""+stuff0list+"  "+remark0list+" </ul> </div><div class='col col-0 col-sm-1 position-relative order-1  ' > <span id='circle'></span><div class='timeBadge'></div>  </div> <div class='col col-12 col-sm-5  p-2  order-3 d-none d-sm-grid'></div>";
                }
                document.getElementById("timeline").innerHTML += temp;
                }
            });
        });
    </script>
</head>
<style>
    .row .col {
        min-height: 100px;
        text-align: center;
    }
	strong{
		border-bottom: 5px solid #b6df70;
	}
    .row .time {
        transform: translate(0, 39%)
    }
	ul{
		margin-top: 20px;
		margin-left: auto;
		margin-right: auto;
	}
    li {
        max-width: 300px;
    }
    .eventInfo {
        border-radius: 10px;
        display: inline-block;
        padding: 5px 8px;
        color: aliceblue;
    }
    #circle {
        height: 20px;
        width: 20px;
        position: absolute;
        border: 5px solid black;
        border-radius: 50%;
        top: 40%;
        transform: translate(-40%,0%);
        background-color: white;
		z-index: 1;
    }

    .timeBadge {
        height:110%;

        width: 5px;
        background-color: #787ed4;
        position: absolute;
        left: 50%;
		z-index: 0;
    }

    .card {
        padding: 0;
    }

    .setup {
        border-left: 5px solid #dc3545;

    }

    .eventHandling {
        border-left: 5px solid #0d6efd;
		margin-left: 15px;
    }

</style>

<body class="bg-light">

    <div class="container " id="timeline">
        <div class="row">
        <div class="col col-1">
        	<div class=" bg-secondary eventInfo m-3">PreOday: 1/8/21</div>
        </div>
        	<div class="col col-5"><div class=" bg-danger eventInfo m-3 d-none d-sm-inline-block">Helper Timeline</div></div>
        	<div class="col col-5"><div class=" bg-primary eventInfo m-3 d-none d-sm-inline-block"> Participants Timeline</div></div>


        </div>


    </div>

</body></html>
